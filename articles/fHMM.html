<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="fHMM">
<title>Introduction • fHMM</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.11/clipboard.min.js" integrity="sha512-7O5pXpc0oCRrxk8RUfDYFgn0nO1t+jLuIOQdOMRp4APB7uZ4vSjspzp5y6YDtDs4VzUSTbWzBFZ/LKJhnyFOKw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Introduction">
<meta property="og:description" content="fHMM">
<meta property="og:image" content="https://loelschlaeger.de/fHMM/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light" data-bs-theme="light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">fHMM</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.3.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item">
  <a class="nav-link" href="../articles/fHMM.html">Get started</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/v01_model_definition.html">Model definition</a>
    <a class="dropdown-item" href="../articles/v02_controls.html">Controls</a>
    <a class="dropdown-item" href="../articles/v03_data_management.html">Data management</a>
    <a class="dropdown-item" href="../articles/v04_model_estimation.html">Model estimation</a>
    <a class="dropdown-item" href="../articles/v05_state_decoding_and_prediction.html">State decoding and prediction</a>
    <a class="dropdown-item" href="../articles/v06_model_checking.html">Model checking</a>
    <a class="dropdown-item" href="../articles/v07_model_selection.html">Model selection</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/loelschlaeger/fHMM/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Introduction</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/loelschlaeger/fHMM/blob/HEAD/vignettes/fHMM.Rmd" class="external-link"><code>vignettes/fHMM.Rmd</code></a></small>
      <div class="d-none name"><code>fHMM.Rmd</code></div>
    </div>

    
    
<p>Welcome to <a href="https://loelschlaeger.de/fHMM/">fHMM</a>, an R package for modeling financial
time series data with hidden Markov models (HMMs). This introduction <a href="#motivation">motivates the approach</a>, gives an <a href="#package-and-vignettes-overview">overview</a> of the package
functionality and the included vignettes, and <a href="#placement-in-the-literature">places the approach in the existing
literature</a>.</p>
<div class="section level2">
<h2 id="motivation">Motivation<a class="anchor" aria-label="anchor" href="#motivation"></a>
</h2>
<p>Earning money with stock trading is simple: one only needs to buy and
sell stocks at the right moment. In general, stock traders seek to
invest at the beginning of upward trends (hereon termed as bullish
markets) and repel their stocks just in time before the prices fall
again (hereon termed as bearish markets). As stock prices depend on a
variety of environmental factors <span class="citation">(<a href="#ref-hum09">Humpe and Macmillan 2009</a>; <a href="#ref-coh13">Cohen, Diether, and Malloy 2013</a>)</span>, chance
certainly plays a fundamental role in hitting those exact moments.
However, investigating market behavior can lead to a better
understanding of how trends alternate and thereby increases the chance
of making profitable investment decisions.</p>
<p>The <a href="https://loelschlaeger.de/fHMM/">fHMM</a> package aims at contributing to those
investigations by applying HMMs to detect bearish and bullish markets in
financial time series. It also implemented the hierarchical model
extension presented in <span class="citation">Oelschläger and Adam (<a href="#ref-oel21">2021</a>)</span>, which improves the model’s
capability for distinguishing between short- and long-term trends and
allows to interpret market dynamics at multiple time scales.</p>
</div>
<div class="section level2">
<h2 id="package-and-vignettes-overview">Package and vignettes overview<a class="anchor" aria-label="anchor" href="#package-and-vignettes-overview"></a>
</h2>
<p>The functionality of the <a href="https://loelschlaeger.de/fHMM/">fHMM</a> package can be
classified into functions for data preparation, model estimation, and
model evaluation. The following flowchart visualizes their
dependencies:</p>
<div class="float">
<img src="flowchart.png" style="width:80.0%" alt="A flowchart of the {fHMM} package: Functions are boxed and classes displayed as circles."><div class="figcaption">A flowchart of the {fHMM} package: Functions are
boxed and classes displayed as circles.</div>
</div>
<p>The tasks <em>data preparation</em>, <em>model estimation</em>, and
<em>model evaluation</em> as well as their corresponding functions and
classes are explained in detail in separate vignettes:</p>
<ul>
<li><p>The vignette <a href="https://loelschlaeger.de/fHMM/articles/v01_model_definition.html"><em>Model
definition</em></a> defines the HMM and its hierarchical
extension.</p></li>
<li><p>The vignette <a href="https://loelschlaeger.de/fHMM/articles/v02_controls.html"><em>Controls</em></a>
introduces the <code><a href="../reference/set_controls.html">set_controls()</a></code> function which is used for
model specifications.</p></li>
<li><p>The vignette <a href="https://loelschlaeger.de/fHMM/articles/v03_data_management.html"><em>Data
management</em></a> explains how to prepare or simulate data and
introduces the <code><a href="../reference/download_data.html">download_data()</a></code> function that can download
financial data directly from <a href="https://finance.yahoo.com/" class="external-link uri">https://finance.yahoo.com/</a>.</p></li>
<li><p>The vignette <a href="https://loelschlaeger.de/fHMM/articles/v04_model_estimation.html"><em>Model
estimation</em></a> defines the likelihood function and explains the
task of its numerical maximization via the <code><a href="../reference/fit_model.html">fit_model()</a></code>
function.</p></li>
<li><p>The vignette <a href="https://loelschlaeger.de/fHMM/articles/v05_state_decoding_and_prediction.html"><em>State
decoding and prediction</em></a> introduces the Viterbi algorithm that
is used for decoding the most likely underlying state sequence and
forecasting.</p></li>
<li><p>The vignette <a href="https://loelschlaeger.de/fHMM/articles/v06_model_checking.html"><em>Model
checking</em></a> explains the task of checking a fitted model via
computing (pseudo-) residuals, which is implemented in the
<code><a href="../reference/compute_residuals.html">compute_residuals()</a></code> function.</p></li>
<li><p>The vignette <a href="https://loelschlaeger.de/fHMM/articles/v07_model_selection.html"><em>Model
selection</em></a> discusses the task of selecting the (in some sense)
best model among a set of competing models via the
<code><a href="../reference/compare_models.html">compare_models()</a></code> function.</p></li>
</ul>
</div>
<div class="section level2">
<h2 id="placement-in-the-literature">Placement in the literature<a class="anchor" aria-label="anchor" href="#placement-in-the-literature"></a>
</h2>
<p>Over the last decades, various HMM-type models have emerged as
popular tools for modeling financial time series that are subject to
state-switching over time <span class="citation">(<a href="#ref-sch97">Schaller and Van Norden 1997</a>; <a href="#ref-dia09">Dias, Vermunt, and Ramos 2010</a>; <a href="#ref-ang12">Ang and Timmermann 2012</a>; <a href="#ref-dea17">De
Angelis and Viroli 2017</a>)</span>. <span class="citation">Rydén,
Teräsvirta, and Åsbrink (<a href="#ref-ryd98">1998</a>)</span>, <span class="citation">Bulla and Bulla (<a href="#ref-bul06">2006</a>)</span>,
and <span class="citation">Nystrup, Madsen, and Lindström (<a href="#ref-nys15a">2015</a>)</span>, e.g., used HMMs to derive stylized
facts of stock returns, while <span class="citation">Hassan and Nath (<a href="#ref-has05">2005</a>)</span> and <span class="citation">Nystrup,
Madsen, and Lindström (<a href="#ref-nys17">2017</a>)</span>
demonstrated that HMMs can prove useful for economic forecasting. More
recently, <span class="citation">Lihn (<a href="#ref-lih17">2017</a>)</span> applied HMMs to the Standard and
Poor’s 500, where HMMs were used to identify different levels of market
volatility, aiming at providing evidence for the conjecture that returns
exhibit negative correlation with volatility. Another application to the
S&amp;P 500 can be found in <span class="citation">Nguyen (<a href="#ref-ngu18">2018</a>)</span>, where HMMs were used to predict
monthly closing prices to derive an optimal trading strategy, which was
shown to outperform the conventional buy-and-hold strategy. Further
applications, which involve HMM-type models for asset allocation and
portfolio optimization, can be found in <span class="citation">Bekaert
and Ang (<a href="#ref-ang02">2002</a>)</span>, <span class="citation">Bulla et al. (<a href="#ref-bul11">2011</a>)</span>,
<span class="citation">Nystrup, Madsen, and Lindström (<a href="#ref-nys15a">2015</a>)</span> and <span class="citation">Nystrup,
Madsen, and Lindström (<a href="#ref-nys18">2018</a>)</span>, to name
but a few examples. All these applications demonstrate that HMMs
constitute a versatile class of time series models that naturally
accounts for the dynamics typically exhibited by financial time
series.</p>
</div>
<div class="section level2 unnumbered">
<h2 class="unnumbered" id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h2>
<div id="refs" class="references csl-bib-body hanging-indent" entry-spacing="0">
<div id="ref-ang12" class="csl-entry">
Ang, A., and A. Timmermann. 2012. <span>“Regime Changes and Financial
Markets.”</span> <em>Annual Review of Financial Economics</em> 4 (1):
313–37. <a href="https://doi.org/10.1146/annurev-financial-110311-101808" class="external-link">https://doi.org/10.1146/annurev-financial-110311-101808</a>.
</div>
<div id="ref-ang02" class="csl-entry">
Bekaert, G., and A. Ang. 2002. <span>“International Asset Allocation
with Regime Shifts.”</span> <em>Review of Financial Studies</em> 15
(February): 1137–87. <a href="https://doi.org/10.1093/rfs/15.4.1137" class="external-link">https://doi.org/10.1093/rfs/15.4.1137</a>.
</div>
<div id="ref-bul06" class="csl-entry">
Bulla, J., and I. Bulla. 2006. <span>“Stylized Facts of Financial Time
Series and Hidden Semi-Markov Models.”</span> <em>Computational
Statistics and Data Analysis</em> 51 (4): 2192–2209. <a href="https://doi.org/10.1016/j.csda.2006.07.021" class="external-link">https://doi.org/10.1016/j.csda.2006.07.021</a>.
</div>
<div id="ref-bul11" class="csl-entry">
Bulla, J., S. Mergner, I. Bulla, A. Sesboüé, and C. Chesneau. 2011.
<span>“Markov-Switching Asset Allocation: Do Profitable Strategies
Exist?”</span> <em>Journal of Asset Management</em> 12 (July): 310–21.
<a href="https://doi.org/10.1057/jam.2010.27" class="external-link">https://doi.org/10.1057/jam.2010.27</a>.
</div>
<div id="ref-coh13" class="csl-entry">
Cohen, L., K. Diether, and C. Malloy. 2013. <span>“Legislating Stock
Prices.”</span> <em>Journal of Financial Economics</em> 110 (3): 574–95.
</div>
<div id="ref-dea17" class="csl-entry">
De Angelis, L., and C. Viroli. 2017. <span>“A Markov-Switching
Regression Model with Non-Gaussian Innovations: Estimation and
Testing.”</span> <em>Studies in Nonlinear Dynamics &amp;
Econometrics</em> 21 (2). <a href="https://doi.org/doi:10.1515/snde-2015-0118" class="external-link">https://doi.org/doi:10.1515/snde-2015-0118</a>.
</div>
<div id="ref-dia09" class="csl-entry">
Dias, J., J. Vermunt, and S. Ramos. 2010. <span>“Mixture Hidden Markov
Models in Finance Research.”</span> <em>Psycho-Oncology -
PSYCHO-ONCOL</em>, January, 451–59. <a href="https://doi.org/10.1007/978-3-642-01044-6_41" class="external-link">https://doi.org/10.1007/978-3-642-01044-6_41</a>.
</div>
<div id="ref-has05" class="csl-entry">
Hassan, Md, and Baikunth Nath. 2005. <span>“Stock Market Forecasting
Using Hidden Markov Model: A New Approach.”</span> <em>5th International
Conference on Intelligent Systems Design and Applications</em> 2005
(October): 192–96. <a href="https://doi.org/10.1109/ISDA.2005.85" class="external-link">https://doi.org/10.1109/ISDA.2005.85</a>.
</div>
<div id="ref-hum09" class="csl-entry">
Humpe, Andreas, and Peter Macmillan. 2009. <span>“Can Macroeconomic
Variables Explain Long-Term Stock Market Movements? A Comparison of the
US and Japan.”</span> <em>Applied Financial Economics</em> 19 (2):
111–19. <a href="https://doi.org/10.1080/09603100701748956" class="external-link">https://doi.org/10.1080/09603100701748956</a>.
</div>
<div id="ref-lih17" class="csl-entry">
Lihn, S. H. 2017. <span>“Hidden Markov Model for Financial Time Series
and Its Application to s&amp;p 500 Index.”</span> <em>Quantitative
Finance (Forthcoming)</em>.
</div>
<div id="ref-ngu18" class="csl-entry">
Nguyen, N. 2018. <span>“Hidden Markov Model for Stock Trading.”</span>
<em>International Journal of Financial Studies</em> 6 (2).
</div>
<div id="ref-nys15a" class="csl-entry">
Nystrup, P., H. Madsen, and E. Lindström. 2015. <span>“Stylised Facts of
Financial Time Series and Hidden Markov Models in Continuous
Time.”</span> <em>Quantitative Finance</em> 15 (9): 1531–41. <a href="https://doi.org/10.1080/14697688.2015.1004801" class="external-link">https://doi.org/10.1080/14697688.2015.1004801</a>.
</div>
<div id="ref-nys17" class="csl-entry">
———. 2017. <span>“Long Memory of Financial Time Series and Hidden Markov
Models with Time-Varying Parameters.”</span> <em>Journal of
Forecasting</em> 36 (8): 989–1002.
</div>
<div id="ref-nys18" class="csl-entry">
———. 2018. <span>“Dynamic Portfolio Optimization Across Hidden Market
Regimes.”</span> <em>Quantitative Finance</em> 18 (1): 83–95. <a href="https://doi.org/10.1080/14697688.2017.1342857" class="external-link">https://doi.org/10.1080/14697688.2017.1342857</a>.
</div>
<div id="ref-oel21" class="csl-entry">
Oelschläger, L., and T. Adam. 2021. <span>“Detecting Bearish and Bullish
Markets in Financial Time Series Using Hierarchical Hidden Markov
Models.”</span> <em>Statistical Modelling</em>. <a href="https://doi.org/10.1177/1471082X211034048" class="external-link">https://doi.org/10.1177/1471082X211034048</a>.
</div>
<div id="ref-ryd98" class="csl-entry">
Rydén, T., T. Teräsvirta, and S. Åsbrink. 1998. <span>“Stylized Facts of
Daily Return Series and the Hidden Markov Model.”</span> <em>Journal of
Applied Econometrics</em> 13 (3): 217–44.
</div>
<div id="ref-sch97" class="csl-entry">
Schaller, H., and S. Van Norden. 1997. <span>“Regime Switching in Stock
Market Returns.”</span> <em>Applied Financial Economics</em> 7 (2):
177–91. <a href="https://doi.org/10.1080/096031097333745" class="external-link">https://doi.org/10.1080/096031097333745</a>.
</div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://loelschlaeger.de" class="external-link">Lennart Oelschläger</a>, <a href="https://www.uni-bielefeld.de/fakultaeten/wirtschaftswissenschaften/lehrbereiche/statisticalmodelling/" class="external-link">Timo Adam</a>, <a href="https://ekvv.uni-bielefeld.de/pers_publ/publ/PersonDetail.jsp?personId=241029889" class="external-link">Rouven Michels</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
