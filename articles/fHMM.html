<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="fHMM">
<title>Introduction • fHMM</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.1.0/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.1.0/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Introduction">
<meta property="og:description" content="fHMM">
<meta property="og:image" content="https://loelschlaeger.github.io/fHMM/logo.svg">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">fHMM</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item">
  <a class="nav-link" href="../articles/fHMM.html">Get started</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/v01_model_definition.html">Model definition</a>
    <a class="dropdown-item" href="../articles/v02_controls.html">Controls</a>
    <a class="dropdown-item" href="../articles/v03_data_management.html">Data management</a>
    <a class="dropdown-item" href="../articles/v04_model_estimation.html">Model estimation</a>
    <a class="dropdown-item" href="../articles/v05_state_decoding.html">State decoding</a>
    <a class="dropdown-item" href="../articles/v06_model_checking.html">Model checking</a>
    <a class="dropdown-item" href="../articles/v07_model_selection.html">Model selection</a>
    <a class="dropdown-item" href="../articles/v08_prediction.html">Prediction</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/loelschlaeger/fHMM/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">



<script src="fHMM_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <main id="main"><div class="page-header">
      <img src="../logo.svg" class="logo" alt=""><h1>Introduction</h1>
                        <h4 data-toc-skip class="author">Lennart Oelschläger, Timo Adam, and Rouven Michels</h4>
            
            <h4 data-toc-skip class="date">2022-02-21</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/loelschlaeger/fHMM/blob/HEAD/vignettes/fHMM.Rmd" class="external-link"><code>vignettes/fHMM.Rmd</code></a></small>
      <div class="d-none name"><code>fHMM.Rmd</code></div>
    </div>

    
    
<!-- 
Assignee: Timo
Purpose: motivation of HMMs for financial data and hierarchical structure, overview package and vignettes, overview literature, explain debugging function and link to GitHub issue page
-->
<p>Welcome to fHMM, a package for modeling financial time series with hidden Markov models (HMMs). This introductory vignette <a href="#motivation">motivates the approach</a>, gives an <a href="#package-and-vignettes-overview">overview</a> of the package functionality and the vignettes, informs about <a href="#debugging">debugging</a> options, and <a href="#placement-in-the-literature">places the approach in the existing literature</a>.</p>
<div class="section level2">
<h2 id="motivation">Motivation<a class="anchor" aria-label="anchor" href="#motivation"></a>
</h2>
<p>Earning money with stock trading is simple: one only needs to buy and sell stocks at the right moment. In general, stock traders seek to invest at the beginning of upward trends (hereon termed as bullish markets) and repel their stocks just in time before the prices fall again (hereon termed as bearish markets). As stock prices depend on a variety of environmental factors <span class="citation">(Humpe and Macmillan <a href="#ref-hum09" role="doc-biblioref">2009</a>; Cohen, Diether, and Malloy <a href="#ref-coh13" role="doc-biblioref">2013</a>)</span>, chance certainly plays a fundamental role in hitting those exact moments. However, investigating market behavior can lead to a better understanding of how trends alternate and thereby increases the chance of making profitable investment decisions.</p>
<p>The fHMM package aims at contributing to those investigations by applying HMMs to detect bearish and bullish markets in financial time series. It also implemented the hierarchical extension presented in <span class="citation">(Oelschläger and Adam <a href="#ref-oel21" role="doc-biblioref">2021</a>)</span>, which improves the model’s capability for distinguishing between short- and long-term trends and allows to interpret market dynamics at multiple time scales.</p>
</div>
<div class="section level2">
<h2 id="package-and-vignettes-overview">Package and vignettes overview<a class="anchor" aria-label="anchor" href="#package-and-vignettes-overview"></a>
</h2>
<p>The functionality of the fHMM package can be classified into functions for data preparation, model estimation, and model evaluation. The flowchart below visualizes their dependencies.</p>
<div class="figure">
<img src="flowchart.png" style="width:80.0%" alt=""><p class="caption">A flowchart of the fHMM package. Functions are displayed as boxed and classes as circles.</p>
</div>
<p>The tasks <em>data preparation</em>, <em>model estimation</em>, and <em>model evaluation</em> as well as their corresponding functions and classes are explained in detail in separate vignettes:</p>
<ul>
<li><p>The vignette <a href="http://loelschlaeger.de/fHMM/articles/v01_model_definition.html" class="external-link"><em>Model definition</em></a> defines the HMM and its hierarchical extension.</p></li>
<li><p>The vignette <a href="http://loelschlaeger.de/fHMM/articles/v02_controls.html" class="external-link"><em>Controls</em></a> introduces the <code><a href="../reference/set_controls.html">set_controls()</a></code> function which is used for model and estimation specifications. It creates an <code>fHMM_controls</code> object that can be fed into the <code><a href="../reference/prepare_data.html">prepare_data()</a></code> function in the next step.</p></li>
<li><p>The vignette <a href="http://loelschlaeger.de/fHMM/articles/v03_data_management.html" class="external-link"><em>Data management</em></a> explains how to prepare or simulate data in fHMM. The goal for the data preparation task in the fHMM package is to create an <code>fHMM_data</code> object via the <code><a href="../reference/prepare_data.html">prepare_data()</a></code> function that can be fed into the estimation routine in the next step. Furthermore, the function <code><a href="../reference/download_data.html">download_data()</a></code> is introduced that can download financial data directly from <a href="https://finance.yahoo.com" class="external-link uri">https://finance.yahoo.com</a>.</p></li>
<li><p>The vignette <a href="http://loelschlaeger.de/fHMM/articles/v04_model_estimation.html" class="external-link"><em>Model estimation</em></a> defines the likelihood function and explain the task of its numerical maximization. Subsequently, the <code><a href="../reference/fit_model.html">fit_model()</a></code> function is introduced that receives an <code>fHMM_data</code>, fits an HMM (specified by <code>fHMM_controls</code>) and returns an <code>fHMM_model</code> object, for which the package provides <code>plot</code>, <code>print</code>, and <code>summary</code> methods.</p></li>
<li><p>The vignette <a href="http://loelschlaeger.de/fHMM/articles/v05_state_decoding.html" class="external-link"><em>State decoding</em></a> defines the Viterbi algorithm that is used for decoding the most likely underlying state sequence. It furthermore introduces its implementation in fHMM via the <code>decode_state()</code> function. The <code><a href="../reference/reorder_states.html">reorder_states()</a></code> function can be used for state relabeling after the decoding.</p></li>
<li><p>The vignette <a href="http://loelschlaeger.de/fHMM/articles/v06_model_checking.html" class="external-link"><em>Model checking</em></a> explains the task of checking a fitted model via computing (pseudo-) residuals, which is implemented via the <code><a href="../reference/compute_residuals.html">compute_residuals()</a></code> function.</p></li>
<li><p>The vignette <a href="http://loelschlaeger.de/fHMM/articles/v07_model_selection.html" class="external-link"><em>Model selection</em></a> discusses the task of selecting the (in some sense) best model among a set of competing models. The fHMM package provides a convenient <code><a href="../reference/compare_models.html">compare_models()</a></code> function that receives an arbitrary number of <code>fHMM_model</code>-objects and returns comparison statistics.</p></li>
<li><p>The vignette <a href="http://loelschlaeger.de/fHMM/articles/v08_prediction.html" class="external-link"><em>Prediction</em></a> discusses how the package can be used for market forecasting via the <code><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict()</a></code> function.</p></li>
</ul>
</div>
<div class="section level2">
<h2 id="placement-in-the-literature">Placement in the literature<a class="anchor" aria-label="anchor" href="#placement-in-the-literature"></a>
</h2>
<p>Over the last decades, various HMM-type models have emerged as popular tools for modeling financial time series that are subject to state-switching over time <span class="citation">(Schaller and Van Norden <a href="#ref-sch97" role="doc-biblioref">1997</a>)</span> <span class="citation">(Dias, Vermunt, and Ramos <a href="#ref-dia09" role="doc-biblioref">2010</a>)</span> <span class="citation">(Ang and Timmermann <a href="#ref-ang12" role="doc-biblioref">2012</a>)</span> <span class="citation">(De Angelis and Viroli <a href="#ref-dea17" role="doc-biblioref">2017</a>)</span>. <span class="citation">(Rydén, Teräsvirta, and Åsbrink <a href="#ref-ryd98" role="doc-biblioref">1998</a>)</span>, <span class="citation">(Bulla and Bulla <a href="#ref-bul06" role="doc-biblioref">2006</a>)</span>, and <span class="citation">(Nystrup, Madsen, and Lindström <a href="#ref-nys15a" role="doc-biblioref">2015</a>)</span>, e.g., used HMMs to derive stylized facts of stock returns, while <span class="citation">(Hassan and Nath <a href="#ref-has05" role="doc-biblioref">2005</a>)</span> and <span class="citation">(Nystrup, Madsen, and Lindström <a href="#ref-nys17" role="doc-biblioref">2017</a>)</span> demonstrated that HMMs can prove useful for economic forecasting. More recently, <span class="citation">(Lihn <a href="#ref-lih17" role="doc-biblioref">2017</a>)</span> applied HMMs to the Standard and Poor’s 500 (S&amp;P 500), where HMMs were used to identify different levels of market volatility, aiming at providing evidence for the conjecture that returns exhibit negative correlation with volatility. Another application to the S&amp;P 500 can be found in <span class="citation">(Nguyen <a href="#ref-ngu18" role="doc-biblioref">2018</a>)</span>, where HMMs were used to predict monthly closing prices to derive an optimal trading strategy, which was shown to outperform the conventional buy-and-hold strategy. Further applications, which involve HMM-type models for asset allocation and portfolio optimization, can be found in <span class="citation">(Bekaert and Ang <a href="#ref-ang02" role="doc-biblioref">2002</a>)</span>, <span class="citation">(Bulla et al. <a href="#ref-bul11" role="doc-biblioref">2011</a>)</span>, and <span class="citation">(Nystrup, Madsen, and Lindström <a href="#ref-nys15a" role="doc-biblioref">2015</a>)</span> <span class="citation">(Nystrup, Madsen, and Lindström <a href="#ref-nys18" role="doc-biblioref">2018</a>)</span>, to name but a few examples. All these applications demonstrate that HMMs constitute a versatile class of time series models that naturally accounts for the dynamics typically exhibited by financial time series.</p>
</div>
<div class="section level2 unnumbered">
<h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h2>
<div id="refs" class="references">
<div id="ref-ang12">
<p>Ang, A., and A. Timmermann. 2012. “Regime Changes and Financial Markets.” <em>Annual Review of Financial Economics</em> 4 (1): 313–37. <a href="https://doi.org/10.1146/annurev-financial-110311-101808" class="external-link">https://doi.org/10.1146/annurev-financial-110311-101808</a>.</p>
</div>
<div id="ref-ang02">
<p>Bekaert, G., and A. Ang. 2002. “International Asset Allocation with Regime Shifts.” <em>Review of Financial Studies</em> 15 (February): 1137–87. <a href="https://doi.org/10.1093/rfs/15.4.1137" class="external-link">https://doi.org/10.1093/rfs/15.4.1137</a>.</p>
</div>
<div id="ref-bul06">
<p>Bulla, J., and I. Bulla. 2006. “Stylized Facts of Financial Time Series and Hidden Semi-Markov Models.” <em>Computational Statistics and Data Analysis</em> 51 (4): 2192–2209. <a href="https://doi.org/10.1016/j.csda.2006.07.021" class="external-link">https://doi.org/10.1016/j.csda.2006.07.021</a>.</p>
</div>
<div id="ref-bul11">
<p>Bulla, J., S. Mergner, I. Bulla, A. Sesboüé, and C. Chesneau. 2011. “Markov-Switching Asset Allocation: Do Profitable Strategies Exist?” <em>Journal of Asset Management</em> 12 (July): 310–21. <a href="https://doi.org/10.1057/jam.2010.27" class="external-link">https://doi.org/10.1057/jam.2010.27</a>.</p>
</div>
<div id="ref-coh13">
<p>Cohen, L., K. Diether, and C. Malloy. 2013. “Legislating Stock Prices.” <em>Journal of Financial Economics</em> 110 (3): 574–95. <a href="https://doi.org/doi.org/10.1016/j.jfineco.2013.08.012" class="external-link">https://doi.org/doi.org/10.1016/j.jfineco.2013.08.012</a>.</p>
</div>
<div id="ref-dea17">
<p>De Angelis, L., and C. Viroli. 2017. “A Markov-Switching Regression Model with Non-Gaussian Innovations: Estimation and Testing.” <em>Studies in Nonlinear Dynamics &amp; Econometrics</em> 21 (2). <a href="https://doi.org/doi:10.1515/snde-2015-0118" class="external-link">https://doi.org/doi:10.1515/snde-2015-0118</a>.</p>
</div>
<div id="ref-dia09">
<p>Dias, J., J. Vermunt, and S. Ramos. 2010. “Mixture Hidden Markov Models in Finance Research.” <em>Psycho-Oncology - PSYCHO-ONCOL</em>, January, 451–59. <a href="https://doi.org/10.1007/978-3-642-01044-6_41" class="external-link">https://doi.org/10.1007/978-3-642-01044-6_41</a>.</p>
</div>
<div id="ref-has05">
<p>Hassan, Md, and Baikunth Nath. 2005. “Stock Market Forecasting Using Hidden Markov Model: A New Approach.” <em>5th International Conference on Intelligent Systems Design and Applications</em> 2005 (October): 192–96. <a href="https://doi.org/10.1109/ISDA.2005.85" class="external-link">https://doi.org/10.1109/ISDA.2005.85</a>.</p>
</div>
<div id="ref-hum09">
<p>Humpe, Andreas, and Peter Macmillan. 2009. “Can Macroeconomic Variables Explain Long-Term Stock Market Movements? A Comparison of the Us and Japan.” <em>Applied Financial Economics</em> 19 (2): 111–19. <a href="https://doi.org/10.1080/09603100701748956" class="external-link">https://doi.org/10.1080/09603100701748956</a>.</p>
</div>
<div id="ref-lih17">
<p>Lihn, S. H. 2017. “Hidden Markov Model for Financial Time Series and Its Application to S&amp;P 500 Index.” <em>Quantitative Finance (Forthcoming)</em>.</p>
</div>
<div id="ref-ngu18">
<p>Nguyen, N. 2018. “Hidden Markov Model for Stock Trading.” <em>International Journal of Financial Studies</em> 6 (2).</p>
</div>
<div id="ref-nys15a">
<p>Nystrup, P., H. Madsen, and E. Lindström. 2015. “Stylised Facts of Financial Time Series and Hidden Markov Models in Continuous Time.” <em>Quantitative Finance</em> 15 (9): 1531–41. <a href="https://doi.org/10.1080/14697688.2015.1004801" class="external-link">https://doi.org/10.1080/14697688.2015.1004801</a>.</p>
</div>
<div id="ref-nys17">
<p>———. 2017. “Long Memory of Financial Time Series and Hidden Markov Models with Time-Varying Parameters.” <em>Journal of Forecasting</em> 36 (8): 989–1002. <a href="https://doi.org/10.1002/for.2447" class="external-link">https://doi.org/10.1002/for.2447</a>.</p>
</div>
<div id="ref-nys18">
<p>———. 2018. “Dynamic Portfolio Optimization Across Hidden Market Regimes.” <em>Quantitative Finance</em> 18 (1): 83–95. <a href="https://doi.org/10.1080/14697688.2017.1342857" class="external-link">https://doi.org/10.1080/14697688.2017.1342857</a>.</p>
</div>
<div id="ref-oel21">
<p>Oelschläger, L., and T. Adam. 2021. “Detecting Bearish and Bullish Markets in Financial Time Series Using Hierarchical Hidden Markov Models.” <em>Statistical Modelling</em>. <a href="https://doi.org/10.1177/1471082X211034048" class="external-link">https://doi.org/10.1177/1471082X211034048</a>.</p>
</div>
<div id="ref-ryd98">
<p>Rydén, T., T. Teräsvirta, and S. Åsbrink. 1998. “Stylized Facts of Daily Return Series and the Hidden Markov Model.” <em>Journal of Applied Econometrics</em> 13 (3): 217–44.</p>
</div>
<div id="ref-sch97">
<p>Schaller, H., and S. Van Norden. 1997. “Regime Switching in Stock Market Returns.” <em>Applied Financial Economics</em> 7 (2): 177–91. <a href="https://doi.org/10.1080/096031097333745" class="external-link">https://doi.org/10.1080/096031097333745</a>.</p>
</div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by <a href="https://loelschlaeger.de" class="external-link">Lennart Oelschläger</a>, <a href="https://timoadam.github.io/" class="external-link">Timo Adam</a>, <a href="https://ekvv.uni-bielefeld.de/pers_publ/publ/PersonDetail.jsp?personId=241029889" class="external-link">Rouven Michels</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.2.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
