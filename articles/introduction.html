<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="fHMM">
<title>Introduction • fHMM</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.1.0/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.1.0/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Introduction">
<meta property="og:description" content="fHMM">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">fHMM</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.3.0.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-2">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/data_management.html">Data management</a>
    <a class="dropdown-item" href="../articles/debugging.html">Debugging</a>
    <a class="dropdown-item" href="../articles/introduction.html">Introduction</a>
    <a class="dropdown-item" href="../articles/model_checking.html">Model checking</a>
    <a class="dropdown-item" href="../articles/model_definition.html">Model definition</a>
    <a class="dropdown-item" href="../articles/model_fitting.html">Model fitting</a>
    <a class="dropdown-item" href="../articles/model_results.html">Model results</a>
    <a class="dropdown-item" href="../articles/model_selection.html">Model selection</a>
    <a class="dropdown-item" href="../articles/prediction.html">Prediction</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/loelschlaeger/fHMM/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">
<script src="introduction_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <main id="main"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Introduction</h1>
                        <h4 data-toc-skip class="author">Lennart Oelschläger, Timo Adam and Rouven Michels</h4>
            
            <h4 data-toc-skip class="date">2021-12-07</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/loelschlaeger/fHMM/blob/HEAD/vignettes/introduction.Rmd" class="external-link"><code>vignettes/introduction.Rmd</code></a></small>
      <div class="d-none name"><code>introduction.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="motivation">Motivation<a class="anchor" aria-label="anchor" href="#motivation"></a>
</h2>
<p>Earning money with stock trading is simple: one only needs to buy and sell stocks at the right moment. In general, stock traders seek to invest at the beginning of upward trends (hereon termed as bullish markets) and repel their stocks just in time before the prices fall again (hereon termed as bearish markets). As stock prices depend on a variety of environmental factors <span class="citation">(Humpe and Macmillan <a href="#ref-hum09" role="doc-biblioref">2009</a>)</span> <span class="citation">(Cohen, Diether, and Malloy <a href="#ref-coh13" role="doc-biblioref">2013</a>)</span>, chance certainly plays a fundamental role in hitting those exact moments. However, investigating market behavior can lead to a better understanding of how trends alternate and thereby increases the chance of making profitable investment decisions. This R package aims at contributing to those investigations by applying (hierarchical) hidden Markov models to detect bearish and bullish markets in financial time series.</p>
</div>
<div class="section level2">
<h2 id="vignette-overview">Vignette Overview<a class="anchor" aria-label="anchor" href="#vignette-overview"></a>
</h2>
</div>
<div class="section level2">
<h2 id="literature">Literature<a class="anchor" aria-label="anchor" href="#literature"></a>
</h2>
<p>Over the last decades, various HMM-type models have emerged as popular tools for modeling financial time series that are subject to state-switching over time <span class="citation">(Schaller and Norden <a href="#ref-sch97" role="doc-biblioref">1997</a>)</span> <span class="citation">(Dias, Vermunt, and Ramos <a href="#ref-dia09" role="doc-biblioref">2010</a>)</span> <span class="citation">(Ang and Timmermann <a href="#ref-ang12" role="doc-biblioref">2012</a>)</span> <span class="citation">(Angelis and Viroli <a href="#ref-dea17" role="doc-biblioref">2017</a>)</span>. <span class="citation">(Rydén, Teräsvirta, and Åsbrink <a href="#ref-ryd98" role="doc-biblioref">1998</a>)</span>, <span class="citation">(Bulla and Bulla <a href="#ref-bul06" role="doc-biblioref">2006</a>)</span>, and <span class="citation">(Nystrup, Madsen, and Lindström <a href="#ref-nys15a" role="doc-biblioref">2015</a>)</span>, e.g., used HMMs to derive stylized facts of stock returns, while <span class="citation">(Hassan and Nath <a href="#ref-has05" role="doc-biblioref">2005</a>)</span> and <span class="citation">(Nystrup, Madsen, and Lindström <a href="#ref-nys17" role="doc-biblioref">2017</a>)</span> demonstrated that HMMs can prove useful for economic forecasting. More recently, <span class="citation">(Lihn <a href="#ref-lih17" role="doc-biblioref">2017</a>)</span> applied HMMs to the Standard and Poor’s 500 (S&amp;P 500), where HMMs were used to identify different levels of market volatility, aiming at providing evidence for the conjecture that returns exhibit negative correlation with volatility. Another application to the S&amp;P 500 can be found in <span class="citation">(Nguyen <a href="#ref-ngu18" role="doc-biblioref">2018</a>)</span>, where HMMs were used to predict monthly closing prices to derive an optimal trading strategy, which was shown to outperform the conventional buy-and-hold strategy. Further applications, which involve HMM-type models for asset allocation and portfolio optimization, can be found in <span class="citation">(Bekaert and Ang <a href="#ref-ang02" role="doc-biblioref">2002</a>)</span>, <span class="citation">(Bulla et al. <a href="#ref-bul11" role="doc-biblioref">2011</a>)</span>, and <span class="citation">(Nystrup, Madsen, and Lindström <a href="#ref-nys15a" role="doc-biblioref">2015</a>)</span> <span class="citation">(Nystrup, Madsen, and Lindström <a href="#ref-nys18" role="doc-biblioref">2018</a>)</span>, to name but a few examples. All these applications demonstrate that HMMs constitute a versatile class of time series models that naturally accounts for the dynamics typically exhibited by financial time series.</p>
</div>
<div class="section level2">
<h2 id="the-benefit-from-adding-a-hierarchical-structure">The benefit from adding a hierarchical structure<a class="anchor" aria-label="anchor" href="#the-benefit-from-adding-a-hierarchical-structure"></a>
</h2>
<p>In their basic form HMMs operate on a single time scale, with observations made e.g. on a quarterly, monthly, or daily basis. As a consequence, conventional HMMs are not capable of capturing both short- and long-term trends. Furthermore, the temporal resolution of the data strongly determines the kind of inference that can be made. This is to be regarded as a major deficit, as short-term price fluctuations can easily be misinterpreted as changes in the long-term trend and hence may draw a distorted picture of market behavior. While models for mixed frequency modeling exist (see <span class="citation">(Guérin and Marcellino <a href="#ref-gue13" role="doc-biblioref">2013</a>)</span>), or approaches that penalize state-switches to force the model to focus on changes in the long-term trend rather than short-term price fluctuations (see <span class="citation">(Nystrup, Lindström, and Madsen <a href="#ref-nys20" role="doc-biblioref">2020</a>)</span>), we propose that this issue can to some extent be overcome by adding an hierarchical structure to the basic HMM, which improves the model’s capability for distinguishing between short- and long-term trends and allows to interpret market dynamics at multiple time scales.</p>
<p>The hierarchical extension of HMMs originates from supervised machine learning. In <span class="citation">(Fine and Singer <a href="#ref-fin98" role="doc-biblioref">1998</a>)</span>, hierarchical HMMs (HHMMs) were first applied to solve handwriting recognition tasks, where hierarchical levels appear as single letters, syllables, and words. More recently, <span class="citation">(Leos-Barajas and Morales <a href="#ref-leo17" role="doc-biblioref">2017</a>)</span> and <span class="citation">(Adam et al. <a href="#ref-ada19" role="doc-biblioref">2019</a>)</span> used HHMMs for animal movement modeling, where the hierarchical structure was exploited to jointly infer animals’ behavioral modes at fine and coarse scales, respectively. Here, we demonstrate that the same model structure has also strong potential for modeling financial time series, where it is often of major interest to distinguish short-term (e.g. daily) price fluctuations from long-term trends (e.g. bullish and bearish markets lasting several months).</p>
</div>
<div class="section level2 unnumbered">
<h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h2>
<div id="refs" class="references">
<div id="ref-ada19">
<p>Adam, Timo, Christopher A. Griffiths, Vianey Leos-Barajas, Emily N. Meese, Christopher G. Lowe, Paul G. Blackwell, David Righton, and Roland Langrock. 2019. “Joint Modelling of Multi-Scale Animal Movement Data Using Hierarchical Hidden Markov Models.” <em>Methods in Ecology and Evolution</em> 10 (9): 1536–50. <a href="https://doi.org/10.1111/2041-210X.13241" class="external-link">https://doi.org/10.1111/2041-210X.13241</a>.</p>
</div>
<div id="ref-ang12">
<p>Ang, Andrew, and Allan Timmermann. 2012. “Regime Changes and Financial Markets.” <em>Annual Review of Financial Economics</em> 4 (1): 313–37. <a href="https://doi.org/10.1146/annurev-financial-110311-101808" class="external-link">https://doi.org/10.1146/annurev-financial-110311-101808</a>.</p>
</div>
<div id="ref-dea17">
<p>Angelis, Luca De, and Cinzia Viroli. 2017. “A Markov-Switching Regression Model with Non-Gaussian Innovations: Estimation and Testing.” <em>Studies in Nonlinear Dynamics &amp; Econometrics</em> 21 (2). <a href="https://doi.org/doi:10.1515/snde-2015-0118" class="external-link">https://doi.org/doi:10.1515/snde-2015-0118</a>.</p>
</div>
<div id="ref-ang02">
<p>Bekaert, Geert, and Andrew Ang. 2002. “International Asset Allocation with Regime Shifts.” <em>Review of Financial Studies</em> 15 (February): 1137–87. <a href="https://doi.org/10.1093/rfs/15.4.1137" class="external-link">https://doi.org/10.1093/rfs/15.4.1137</a>.</p>
</div>
<div id="ref-bul06">
<p>Bulla, Jan, and Ingo Bulla. 2006. “Stylized Facts of Financial Time Series and Hidden Semi-Markov Models.” <em>Computational Statistics &amp; Data Analysis</em> 51 (4): 2192–2209. <a href="https://doi.org/10.1016/j.csda.2006.07.021" class="external-link">https://doi.org/10.1016/j.csda.2006.07.021</a>.</p>
</div>
<div id="ref-bul11">
<p>Bulla, Jan, Sascha Mergner, Ingo Bulla, André Sesboüé, and Christophe Chesneau. 2011. “Markov-Switching Asset Allocation: Do Profitable Strategies Exist?” <em>Journal of Asset Management</em> 12 (July): 310–21. <a href="https://doi.org/10.1057/jam.2010.27" class="external-link">https://doi.org/10.1057/jam.2010.27</a>.</p>
</div>
<div id="ref-coh13">
<p>Cohen, Lauren, Karl Diether, and Christopher Malloy. 2013. “Legislating Stock Prices.” <em>Journal of Financial Economics</em> 110 (3): 574–95. <a href="https://doi.org/doi.org/10.1016/j.jfineco.2013.08.012" class="external-link">https://doi.org/doi.org/10.1016/j.jfineco.2013.08.012</a>.</p>
</div>
<div id="ref-dia09">
<p>Dias, José, Jeroen Vermunt, and Sofia Ramos. 2010. “Mixture Hidden Markov Models in Finance Research.” <em>Psycho-Oncology - PSYCHO-ONCOL</em>, January, 451–59. <a href="https://doi.org/10.1007/978-3-642-01044-6_41" class="external-link">https://doi.org/10.1007/978-3-642-01044-6_41</a>.</p>
</div>
<div id="ref-fin98">
<p>Fine, Shai, and Yoram Singer. 1998. “The Hierarchical Hidden Markov Model: Analysis and Applications.” <em>Maschine Learning</em>, 41–62.</p>
</div>
<div id="ref-gue13">
<p>Guérin, Pierre, and Massimiliano Marcellino. 2013. “Markov-Switching Midas Models.” <em>Journal of Business &amp; Economic Statistics</em> 31 (1): 45–56.</p>
</div>
<div id="ref-has05">
<p>Hassan, Md, and Baikunth Nath. 2005. “Stock Market Forecasting Using Hidden Markov Model: A New Approach.” <em>5th International Conference on Intelligent Systems Design and Applications</em> 2005 (October): 192–96. <a href="https://doi.org/10.1109/ISDA.2005.85" class="external-link">https://doi.org/10.1109/ISDA.2005.85</a>.</p>
</div>
<div id="ref-hum09">
<p>Humpe, Andreas, and Peter Macmillan. 2009. “Can Macroeconomic Variables Explain Long-Term Stock Market Movements? A Comparison of the Us and Japan.” <em>Applied Financial Economics</em> 19 (2): 111–19. <a href="https://doi.org/10.1080/09603100701748956" class="external-link">https://doi.org/10.1080/09603100701748956</a>.</p>
</div>
<div id="ref-leo17">
<p>Leos-Barajas, Gangloff, V., and J. M. Morales. 2017. “Multi-Scale Modeling of Animal Movement and General Behavior Data Using Hidden Markov Models with Hierarchical Structures.” <em>Journal of Agricultural, Biological and Environmental Statistics</em> 22 (3): 232–48.</p>
</div>
<div id="ref-lih17">
<p>Lihn, S. H. 2017. “Hidden Markov Model for Financial Time Series and Its Application to S&amp;P 500 Index.” <em>Quantitative Finance (Forthcoming)</em>.</p>
</div>
<div id="ref-ngu18">
<p>Nguyen, N. 2018. “Hidden Markov Model for Stock Trading.” <em>International Journal of Financial Studies</em> 6 (2).</p>
</div>
<div id="ref-nys20">
<p>Nystrup, Peter, Erik Lindström, and Henrik Madsen. 2020. “Learning Hidden Markov Models with Persistent States by Penalizing Jumps.” <em>Expert Systems with Applications</em> 150. <a href="https://doi.org/10.1016/j.eswa.2020.113307" class="external-link">https://doi.org/10.1016/j.eswa.2020.113307</a>.</p>
</div>
<div id="ref-nys15a">
<p>Nystrup, Peter, Henrik Madsen, and Erik Lindström. 2015. “Stylised Facts of Financial Time Series and Hidden Markov Models in Continuous Time.” <em>Quantitative Finance</em> 15 (9): 1531–41. <a href="https://doi.org/10.1080/14697688.2015.1004801" class="external-link">https://doi.org/10.1080/14697688.2015.1004801</a>.</p>
</div>
<div id="ref-nys17">
<p>———. 2017. “Long Memory of Financial Time Series and Hidden Markov Models with Time-Varying Parameters.” <em>Journal of Forecasting</em> 36 (8): 989–1002. <a href="https://doi.org/10.1002/for.2447" class="external-link">https://doi.org/10.1002/for.2447</a>.</p>
</div>
<div id="ref-nys18">
<p>———. 2018. “Dynamic Portfolio Optimization Across Hidden Market Regimes.” <em>Quantitative Finance</em> 18 (1): 83–95. <a href="https://doi.org/10.1080/14697688.2017.1342857" class="external-link">https://doi.org/10.1080/14697688.2017.1342857</a>.</p>
</div>
<div id="ref-ryd98">
<p>Rydén, Tobias, Timo Teräsvirta, and Stefan Åsbrink. 1998. “Stylized Facts of Daily Return Series and the Hidden Markov Model.” <em>Journal of Applied Econometrics</em> 13 (3): 217–44.</p>
</div>
<div id="ref-sch97">
<p>Schaller, Huntley, and Simon Van Norden. 1997. “Regime Switching in Stock Market Returns.” <em>Applied Financial Economics</em> 7 (2): 177–91. <a href="https://doi.org/10.1080/096031097333745" class="external-link">https://doi.org/10.1080/096031097333745</a>.</p>
</div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by <a href="https://www.oilbat.de" class="external-link">Lennart Oelschläger</a>, Timo Adam, Michels Rouven.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.1.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
